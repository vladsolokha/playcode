"use strict";(globalThis.webpackChunkcodility=globalThis.webpackChunkcodility||[]).push([[9641],{49641:(e,t,n)=>{n.d(t,{MT:()=>f,bO:()=>b,kc:()=>F});var r=n(63366),o=n(87462),u=n(67294),i=n(27354),c=n(83952);function l(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,r="none"!==t&&"hidden"!==n&&"collapse"!==n;if(r){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:o}=t(e);r="none"!==n&&"hidden"!==o&&"collapse"!==o}return r}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||l(e.parentElement,e))}const a=u.createContext(null);let d=null,s=new Map;function f(e){let{children:t,contain:n,restoreFocus:r,autoFocus:o}=e,i=(0,u.useRef)(),l=(0,u.useRef)(),f=(0,u.useRef)([]),b=(0,u.useContext)(a),m=null==b?void 0:b.scopeRef;(0,c.bt)((()=>{let e=i.current.nextSibling,t=[];for(;e&&e!==l.current;)t.push(e),e=e.nextSibling;f.current=t}),[t,m]),(0,c.bt)((()=>(s.set(f,m),()=>{f!==d&&!y(f,d)||m&&!s.has(m)||(d=m),s.delete(f)})),[f,m]),function(e,t){let n=(0,u.useRef)(),r=(0,u.useRef)(null);(0,c.bt)((()=>{let o=e.current;if(!t)return;let u=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||e!==d)return;let n=document.activeElement,r=e.current;if(!h(n,r))return;let o=L(p(r),{tabbable:!0},r);o.currentNode=n;let u=t.shiftKey?o.previousNode():o.nextNode();u||(o.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,u=t.shiftKey?o.previousNode():o.nextNode()),t.preventDefault(),u&&x(u,!0)},i=t=>{!d||y(d,e)?(d=e,n.current=t.target):e!==d||N(t.target,e)?e===d&&(n.current=t.target):n.current?n.current.focus():d&&g(d.current)},c=t=>{r.current=requestAnimationFrame((()=>{e!==d||N(document.activeElement,e)||(d=e,n.current=t.target,n.current.focus())}))};return document.addEventListener("keydown",u,!1),document.addEventListener("focusin",i,!1),o.forEach((e=>e.addEventListener("focusin",i,!1))),o.forEach((e=>e.addEventListener("focusout",c,!1))),()=>{document.removeEventListener("keydown",u,!1),document.removeEventListener("focusin",i,!1),o.forEach((e=>e.removeEventListener("focusin",i,!1))),o.forEach((e=>e.removeEventListener("focusout",c,!1)))}}),[e,t]),(0,u.useEffect)((()=>()=>cancelAnimationFrame(r.current)),[r])}(f,n),function(e,t,n){(0,c.bt)((()=>{if(!t)return;let r=e.current,o=document.activeElement,u=e=>{if("Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey)return;let t=document.activeElement;if(!h(t,r))return;let n=L(document.body,{tabbable:!0});n.currentNode=t;let u=e.shiftKey?n.previousNode():n.nextNode();if(document.body.contains(o)&&o!==document.body||(o=null),(!u||!h(u,r))&&o){n.currentNode=o;do{u=e.shiftKey?n.previousNode():n.nextNode()}while(h(u,r));e.preventDefault(),e.stopPropagation(),u?x(u,!0):function(e){for(let t of s.keys())if(h(e,t.current))return!0;return!1}(o)?x(o,!0):t.blur()}};return n||document.addEventListener("keydown",u,!0),()=>{n||document.removeEventListener("keydown",u,!0),t&&o&&h(document.activeElement,r)&&requestAnimationFrame((()=>{document.body.contains(o)&&x(o)}))}}),[e,t,n])}(f,r,n),function(e,t){const n=u.useRef(t);(0,u.useEffect)((()=>{n.current&&(d=e,h(document.activeElement,d.current)||g(e.current)),n.current=!1}),[])}(f,o);let v=function(e){return{focusNext(t){void 0===t&&(t={});let n=e.current,{from:r,tabbable:o,wrap:u}=t,i=r||document.activeElement,c=n[0].previousElementSibling,l=L(p(n),{tabbable:o},n);l.currentNode=h(i,n)?i:c;let a=l.nextNode();return!a&&u&&(l.currentNode=c,a=l.nextNode()),a&&x(a,!0),a},focusPrevious(t){void 0===t&&(t={});let n=e.current,{from:r,tabbable:o,wrap:u}=t,i=r||document.activeElement,c=n[n.length-1].nextElementSibling,l=L(p(n),{tabbable:o},n);l.currentNode=h(i,n)?i:c;let a=l.previousNode();return!a&&u&&(l.currentNode=c,a=l.previousNode()),a&&x(a,!0),a},focusFirst(t){void 0===t&&(t={});let n=e.current,{tabbable:r}=t,o=L(p(n),{tabbable:r},n);o.currentNode=n[0].previousElementSibling;let u=o.nextNode();return u&&x(u,!0),u},focusLast(t){void 0===t&&(t={});let n=e.current,{tabbable:r}=t,o=L(p(n),{tabbable:r},n);o.currentNode=n[n.length-1].nextElementSibling;let u=o.previousNode();return u&&x(u,!0),u}}}(f);return u.createElement(a.Provider,{value:{scopeRef:f,focusManager:v}},u.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,u.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}function b(){var e;return null==(e=(0,u.useContext)(a))?void 0:e.focusManager}const m=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],v=m.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";m.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const E=m.join(':not([hidden]):not([tabindex="-1"]),');function p(e){return e[0].parentElement}function h(e,t){return t.some((t=>t.contains(e)))}function N(e,t){for(let n of s.keys())if((n===t||y(t,n))&&h(e,n.current))return!0;return!1}function y(e,t){let n=s.get(t);return!!n&&(n===e||y(e,n))}function x(e,t){if(void 0===t&&(t=!1),null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{!function(e){if("virtual"===(0,i.Jz)()){let t=document.activeElement;(0,c.QB)((()=>{document.activeElement===t&&document.contains(e)&&(0,c.Ao)(e)}))}else(0,c.Ao)(e)}(e)}catch(e){}}function g(e){let t=e[0].previousElementSibling,n=L(p(e),{tabbable:!0},e);n.currentNode=t,x(n.nextNode())}function L(e,t,n){let r=null!=t&&t.tabbable?E:v,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var o;return null!=t&&null!=(o=t.from)&&o.contains(e)?NodeFilter.FILTER_REJECT:e.matches(r)&&l(e)&&(!n||h(e,n))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return null!=t&&t.from&&(o.currentNode=t.from),o}let k=u.createContext(null);function F(e,t){let{focusProps:n}=(0,i.KK)(e),{keyboardProps:l}=(0,i.v5)(e),a=(0,c.dG)(n,l),d=function(e){let t=(0,u.useContext)(k)||{};return(0,c.lE)(t,e),(0,r.Z)(t,["ref"])}(t),s=e.isDisabled?{}:d,f=(0,u.useRef)(e.autoFocus);return(0,u.useEffect)((()=>{f.current&&t.current&&t.current.focus(),f.current=!1}),[]),{focusableProps:(0,c.dG)((0,o.Z)({},a,{tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0}),s)}}}}]);